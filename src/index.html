<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>reaksicakimin | 3D Engine</title>
  <link rel="icon" type="image/x-icon" href="../public/logo-ic.ico">

  <!-- Styles -->
  <link rel="stylesheet" type="text/css" href="./styles/index.css" />
  <link rel="stylesheet" type="text/css" href="./styles/navbar.css" />
  <link rel="stylesheet" type="text/css" href="./styles/object-list.css" />
  <link rel="stylesheet" type="text/css" href="./styles/property-bar.css" />
  <link rel="stylesheet" type="text/css" href="./styles/canvas.css" />

  <!-- Font awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet"
    type='text/css'>
</head>

<body>
  <!-- Canvas -->
  <canvas>
  </canvas>

  <!-- Navbar -->
  <nav>
    <ul>
      <li id="logo" class="dropdown">
        <img src="../public/logo-ic.png" alt="reaksicakimin logo">
        <i class="fa-solid fa-chevron-down"></i>
        <ul class="dropdown-menu">
          <li>New File</li>
          <li>Import Model</li>
          <li>Export Model</li>
        </ul>
      </li>
      <li id="cursor" class="tool-btn active">
        <img src="../public/cursor-ic.svg" class="nav-icon">
      </li>
      <li id="canvas" class="tool-btn">
        <img src="../public/canvas-ic.svg" class="nav-icon">
      </li>
    </ul>
  </nav>

  <!-- Others -->
  <div id="others-bar-container">

    <!-- Component tree -->
    <div class="others-group">
      <input id="selected-object" type="text" name="selected-object" value="" readonly hidden>
      <div id="component-tree" class="component-tree-list">
        <label class="component-tree-label" for="component-tree-label">Component Tree</label>
        <div class="items" id="container">
          <!-- Placeholder for injected HTML -->
        </div>
      </div>
    </div>

    <!-- Animation -->
    <div class="others-group">
      <label for="animation">Animation</label>

      <!-- Frame per second -->
      <div id="frame-per-second" class="frame">
        <label for="frame-per-second">FPS:</label>
        <input type="number" id="frame-per-second-input" name="frame-per-second" value="30">
      </div>

      <!-- Frame indicator -->
      <div id="frame-indicator" class="frame">
        <label for="frame-indicator">Frame:</label>
        <div class="frame-number"></div>
      </div>

      <!-- Frame manager -->
      <div id="frame-manager">
        <div class="frame-label">
          <label for="frame-manager">Frame Manager</label>
        </div>
        <div class="frame">
          <button id="frame-add" class="frame-btn">
            <i class="fa-solid fa-plus"></i>
          </button>
          <input type="number" id="frame-add-input" class="frame-input" name="frame-delete" value="0">
        </div>
        <div class="frame">
          <button id="frame-delete" class="frame-btn">
            <i class="fa-solid fa-trash"></i>
          </button>
          <input type="number" id="frame-delete-input" class="frame-input" name="frame-delete" value="0">
        </div>
        <div class="frame">
          <button id="frame-swap" class="frame-btn">
            <i class="fa-solid fa-arrows"></i>
          </button>
          <input type="number" id="frame-swap-input-1" class="frame-input" name="frame-swap-1" value="0">
          <input type="number" id="frame-swap-input-2" class="frame-input" name="frame-swap-2" value="0">
        </div>
      </div>
      
      <!-- Frame controller -->
      <div id="frame-controller">
        <div class="frame-label">
          <label for="frame-player">Controller</label>
        </div>
        <div class="frame">
          <button id="frame-prev" class="frame-btn">
            <i class="fa-solid fa-chevron-left"></i>
          </button>
          <button id="frame-next" class="frame-btn">
            <i class="fa-solid fa-chevron-right"></i>
          </button>
          <button id="frame-first" class="frame-btn">
            <i class="fa-solid fa-chevron-left"></i>
            <i class="fa-solid fa-chevron-left"></i>
          </button>
          <button id="frame-last" class="frame-btn">
            <i class="fa-solid fa-chevron-right"></i>
            <i class="fa-solid fa-chevron-right"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Player -->
    <div class="others-group">
      <label for="player">Player</label>
      <!-- Frame player -->
      <div id="frame-player">
        <div class="frame input">
          <div>
            <label for="tweening">Tweening</label>
          </div>
          <select id="tweening-type">
            <option value="linear">Linear</option>
            <option value="sine">Sine</option>
            <option value="quad">Quad</option>
            <option value="cubic">Cubic</option>
            <option value="quart">Quart</option>
            <option value="quint">Quint</option>
            <option value="expo">Expo</option>
            <option value="circ">Circ</option>
            <option value="back">Back</option>
            <option value="elastic">Elastic</option>
            <option value="bounce">Bounce</option>
          </select>
        </div>
        <div class="frame">
          <button id="frame-play" class="frame-btn">
            <i class="fa-solid fa-play"></i>
          </button>
          <button id="frame-pause" class="frame-btn">
            <i class="fa-solid fa-pause"></i>
          </button>
          <button id="frame-reverse" class="frame-btn">
            <i class="fa-solid fa-play"></i>
            <i class="fa-solid fa-undo"></i>
          </button>
          <button id="frame-autoreplay" class="frame-btn">
            <i class="fa-solid fa-play"></i>
            <i class="fa-solid fa-sync"></i>
          </button>
        </div>
      </div>

      <!-- Frame Recording -->
      <div id="frame-recording">
        <div class="frame-label">
          <label for="frame-recording">Recording</label>
        </div>
        <div class="frame">
          <button id="start-recording" class="frame-btn">
            <i class="fa-solid fa-play"></i>
          </button>
          <button id="save-frame" class="frame-btn">
            <i class="fa-solid fa-save"></i>
          </button>
        </div>
      </div>

      <!-- Frame import export animation -->
      <div id="frame-import-export">
        <div class="frame-label">
          <label for="frame-import-export">Import/Export</label>
        </div>
        <div class="frame">
          <input type="file" id="file-input" accept=".json" style="display:none"/>
          <button id="import-animation" class="frame-btn">
            <i class="fa-solid fa-download"></i>
          </button>
          <button id="export-animation" class="frame-btn">
            <i class="fa-solid fa-upload"></i>
          </button>
        </div>
      </div>
      

    </div>

    <!-- Material -->
    <div class="others-group"id="material-group" style="display:none;">
      <label for="material">Material</label>
        <!-- Material type -->
        <div class="material">
          <label for="material-type">Choose Material</label>
          <select id="material-type">
            <option value="basic">Basic</option>
            <option value="phong">Phong</option>
          </select>
        </div>

        <!-- Basic param -->
        <div id="basic-params" class="material" style="display:none;">
          <!-- Ambient Color -->
          <label for="basic-ambient">Ambient Color</label>
          <div class="color-input">
            <input type="color" id="basic-ambient" name="basic-ambient" value="#e5e5e5">
          </div>
        </div>

        <!-- Phong param -->
        <div id="phong-params" class="material" style="display:none;">
          <!-- Shininess -->
          <label for="shininess">Shininess</label>
          <div class="input">
            <input type="range" id="shininess-slider" class="prop-slider" name="shininess" min="0" max="100"
              step="1" value="50">
            <input type="number" id="shininess-input" class="prop-input" name="shininess-input" min="0" max="100"
              step="1" value="50">
          </div>

          <!-- Ambient -->
          <label for="phong-ambient">Ambient Color</label>
          <div class="color-input">
            <input type="color" id="phong-ambient" name="phong-ambient" value="#e5e5e5">
          </div>
          
          <!-- Diffuse -->
          <label for="phong-diffuse">Diffuse</label>
          <div class="input">
              <input type="color" id="phong-diffuse" name="phong-diffuse" value="#e5e5e5">
              <select id="texture-diffuse">
                <option value="off">Texture Off</option>
                <option value="on">Texture On</option>
              </select>
          </div>
          
          <!-- Specular -->
          <label for="phong-specular">Specular</label>
          <div class="input">
            <input type="color" id="phong-specular" name="phong-specular" value="#ffffff">
            <select id="texture-specular">
              <option value="off">Texture Off</option>
              <option value="on">Texture On</option>
            </select>
          </div>

          <!-- Displacement -->
          <div id="displacement">
            <label for="phong-displacement">Displacement</label>
            <div class="input">
              <select id="texture-displacement">
                <option value="off">Texture Off</option>
                <option value="on">Texture On</option>
              </select>
            </div>
          </div>

          <!-- Normal -->
          <div id="normal">
            <label for="phong-normal">Normal</label>
            <div class="input">
              <select id="texture-normal">
                <option value="off">Texture Off</option>
                <option value="on">Texture On</option>
              </select>
            </div>
          </div>

        </div>

        <!-- Textures param -->
        <div id="texture-params" class="material" style="display:none;">
        <!-- Texture Options -->
          <label for="texture-options">Texture Options</label>
          <div class="input">
            <select id="texture-options">
              <option value="off">Off</option>
              <option value="concrete">Concrete</option>
              <option value="mud">Mud</option>
              <option value="environment">Enviroment</option>
            </select>
          </div>
        </div>

    </div>

  </div>

  <!-- Property bar -->
  <div class="property-bar-container">

    <!-- Canvas property -->
    <div id="canvas-properties" class="property-container">
      <!-- Canvas color -->
      <div class="property">
        <label for="canvas-color">Background</label>
        <div class="color-input">
          <input type="color" id="canvas-color-input" name="canvas-color" value="#141414">
          <span id="canvas-color-value">#141414</span>
        </div>
      </div>
    </div>

    <!-- Shape property -->
    <div id="shape-properties" class="property-container">
      <!-- Shape color -->
      <div class="property">
        <label for="shape-color">Color</label>
        <div class="color-input">
          <input type="color" id="shape-color-input" name="shape-color" value="#e5e5e5">
          <span id="shape-color-value">#e5e5e5</span>
        </div>
      </div>
    </div>

    <!-- Edit property -->
    <div id="edit-properties" class="property-container active">
      <!-- View Properties -->
      <div class="property">

        <!-- Translate -->
        <div class="property-group">
          <label>Translate</label>

          <!-- Translate X -->
          <div class="label-value">
            <label for="translate-x">X</label>
            <div class="input">
              <input type="range" id="translate-x-slider" class="prop-slider" name="translate-x" min="-10" max="10"
                step="0.1" value="0">
              <input type="number" id="translate-x-input" class="prop-input" name="translate-x-input" min="-10"
                max="10" step="0.1" value="0">
            </div>
          </div>

          <!-- Translate Y -->
          <div class="label-value">
            <label for="translate-y">Y</label>
            <div class="input">
              <input type="range" id="translate-y-slider" class="prop-slider" name="translate-y" min="-10" max="10"
                step="0.1" value="0">
              <input type="number" id="translate-y-input" class="prop-input" name="translate-y-input" min="-10"
                max="10" step="0.1" value="0">
            </div>
          </div>

          <!-- Translate Z -->
          <div class="label-value">
            <label for="translate-z">Z</label>
            <div class="input">
              <input type="range" id="translate-z-slider" class="prop-slider" name="translate-z" min="-10" max="10"
                step="0.1" value="0">
              <input type="number" id="translate-z-input" class="prop-input" name="translate-z-input" min="-10"
                max="10" step="0.1" value="0">
            </div>
          </div>
        </div>

        <!-- Scale -->
        <div class="property-group">
          <label>Scale</label>

          <!-- Scale X -->
          <div class="label-value">
            <label for="scale-x">X</label>
            <div class="input">
              <input type="range" id="scale-x-slider" class="prop-slider" name="scale-x" min="0.1" max="5" step="0.01"
                value="1">
              <input type="number" id="scale-x-input" class="prop-input" name="scale-x-input" min="0.1" max="5"
                step="0.1" value="1">
            </div>
          </div>

          <!-- Scale Y -->
          <div class="label-value">
            <label for="scale-y">Y</label>
            <div class="input">
              <input type="range" id="scale-y-slider" class="prop-slider" name="scale-y" min="0.1" max="5" step="0.01"
                value="1">
              <input type="number" id="scale-y-input" class="prop-input" name="scale-y-input" min="0.1" max="5"
                step="0.01" value="1">
            </div>
          </div>

          <!-- Scale Z -->
          <div class="label-value">
            <label for="scale-z">Z</label>
            <div class="input">
              <input type="range" id="scale-z-slider" class="prop-slider" name="scale-z" min="0.1" max="5" step="0.01"
                value="1">
              <input type="number" id="scale-z-input" class="prop-input" name="scale-z-input" min="0.1" max="5"
                step="0.01" value="1">
            </div>
          </div>
        </div>

        <!-- Rotation -->
        <div class="property-group">
          <label>Rotation</label>

          <!-- Rotation X -->
          <div class="label-value">
            <label for="rotation-x">X</label>
            <div class="input">
              <input type="range" id="rotation-x-slider" class="prop-slider" name="rotation-x" min="-180" max="180" step="1"
                value="0">
              <input type="number" id="rotation-x-input" class="prop-input" name="rotation-x-input" min="-180" max="180"
                step="1" value="0">
            </div>
          </div>

          <!-- Rotation Y -->
          <div class="label-value">
            <label for="rotation-y">Y</label>
            <div class="input">
              <input type="range" id="rotation-y-slider" class="prop-slider" name="rotation-y" min="-180" max="180" step="1"
                value="0">
              <input type="number" id="rotation-y-input" class="prop-input" name="rotation-y-input" min="-180" max="180"
                step="1" value="0">
            </div>
          </div>

          <!-- Rotation Z -->
          <div class="label-value">
            <label for="rotation-z">Z</label>
            <div class="input">
              <input type="range" id="rotation-z-slider" class="prop-slider" name="rotation-z" min="-180" max="180" step="1"
                value="0">
              <input type="number" id="rotation-z-input" class="prop-input" name="rotation-z-input" min="-180" max="180"
                step="1" value="0">
            </div>
          </div>
        </div>

      </div>

      <!-- Light Properties -->
      <div>
        <div class="property">

          <!-- Light -->
          <div class="property-group">
            <label>Light</label>

            <!-- Light Type -->
            <div class="projection">
              <label for="light-type">Light Type</label>
              <div class="input">
                <select id="light-type">
                  <option value="directional">Directional</option>
                  <option value="spot">Spot</option>
                </select>
              </div>
            </div>

            <!-- Translate X -->
            <div class="label-value">
              <label for="translate-x">Translate X</label>
              <div class="input">
                <input type="range" id="light-x-slider" class="prop-slider" name="light-x" min="-100" max="100"
                  step="1" value="0">
                <input type="number" id="light-x-input" class="prop-input" name="light-x-input" min="-100" max="100"
                  step="1" value="0">
              </div>
            </div>

            <!-- Translate Y -->
            <div class="label-value">
              <label for="translate-y">Translate Y</label>
              <div class="input">
                <input type="range" id="light-y-slider" class="prop-slider" name="light-y" min="-100" max="100"
                  step="1" value="0">
                <input type="number" id="light-y-input" class="prop-input" name="light-y-input" min="-100" max="100"
                  step="1" value="0">
              </div>
            </div>

            <!-- Translate Z -->
            <div class="label-value">
              <label for="translate-z">Translate Z</label>
              <div class="input">
                <input type="range" id="light-z-slider" class="prop-slider" name="light-z" min="-100" max="100"
                  step="1" value="0">
                <input type="number" id="light-z-input" class="prop-input" name="light-z-input" min="-100" max="100"
                  step="1" value="0">
              </div>
            </div>

            <!-- Light Color -->
            <div class="label-value">
              <label for="light-color">Color</label>
              <div class="color-input">
                <input type="color" id="light-color" name="light-color" value="#e5e5e5">
              </div>
            </div>

            <!-- Light Intensity -->
            <div class="label-value">
              <label for="light-intensity">Intensity</label>
              <div class="input">
                <input type="range" id="light-intensity-slider" class="prop-slider" name="light-intensity" min="0" max="10"
                  step="0.1" value="1">
                <input type="number" id="light-intensity-input" class="prop-input" name="light-intensity-input" min="0"
                  max="10" step="0.1" value="1">
              </div>
            </div>

            <!-- Light Tarqet -->
            <div id="light-target">
              <div class="label-value">
                <label for="target-x">Target X</label>
                <div class="input">
                  <input type="range" id="light-target-x-slider" class="prop-slider" name="light-target-x" min="-100" max="100"
                    step="1" value="0">
                  <input type="number" id="light-target-x-input" class="prop-input" name="light-target-x-input" min="-100" max="100"
                    step="1" value="0">
                </div>
              </div>

              <div class="label-value">
                <label for="target-y">Target Y</label>
                <div class="input">
                  <input type="range" id="light-target-y-slider" class="prop-slider" name="light-target-y" min="-100" max="100"
                    step="1" value="0">
                  <input type="number" id="light-target-y-input" class="prop-input
                  " name="light-target-y-input" min="-100" max="100"
                    step="1" value="0">
                </div>
              </div>

              <div class="label-value">
                <label for="target-z">Target Z</label>
                <div class="input">
                  <input type="range" id="light-target-z-slider" class="prop-slider" name="light-target-z" min="-100" max="100"
                    step="1" value="0">
                  <input type="number" id="light-target-z-input" class="prop-input
                  " name="light-target-z-input" min="-100" max="100"
                    step="1" value="0">
                </div>
              </div>
            </div>

            <!-- Light Inner Cut Off -->
            <div class="label-value" id="light-inner-cut-off" style="display:none;">
              <label for="light-inner-cut-off">Inner Cut Off</label>
              <div class="input">
                <input type="range" id="light-inner-cut-off-slider" class="prop-slider" name="light-inner-cut-off" min="0" max="180"
                  step="1" value="0">
                <input type="number" id="light-inner-cut-off-input" class="prop-input" name="light-inner-cut-off-input" min="0"
                  max="180" step="1" value="0">
              </div>
            </div>

            <!-- Light Outer Cut Off -->
            <div class="label-value" id="light-outer-cut-off" style="display:none;">
              <label for="light-outer-cut-off">Outer Cut Off</label>
              <div class="input">
                <input type="range" id="light-outer-cut-off-slider" class="prop-slider" name="light-outer-cut-off" min="0" max="180"
                  step="1" value="0">
                <input type="number" id="light-outer-cut-off-input" class="prop-input" name="light-outer-cut-off-input" min="0"
                  max="180" step="1" value="0">
              </div>
            </div>

        </div>
      </div>

      <!-- Camera Properties -->
      <div class="property">

        <!-- Camera -->
        <div class="property-group">
          <label>Camera</label>

          <!-- Camera Radius -->
          <div class="label-value">
            <label for="camera-radius">Radius</label>
            <div class="input">
              <input type="range" id="camera-radius-slider" class="prop-slider" name="camera-radius" min="0" max="50"
                step="1" value="0">
              <input type="number" id="camera-radius-input" class="prop-input" name="camera-radius-input" min="0"
                max="50" step="1" value="0">
            </div>
          </div>
          
          <!-- Projection Type -->
          <div class="projection">
            <label>Projection</label>
            <div class="input">
              <select id="projection-type">
                <option value="perspective">Perspective</option>
                <option value="orthographic">Orthographic</option>
                <option value="oblique">Oblique</option>
              </select>
            </div>
          </div>

          <!-- Reset Camera -->
          <div class="reset">
            <button id="reset-camera" class="reset-btn">Reset Camera</button>
          </div>
        </div>

      </div>

    </div>

    <!-- Web utils -->
    <script type="module" src="./script/webutils/menuDropdown.js"></script>
    <script type="module" src="./script/webutils/frameController.js"></script>

    <script type="module" src="./script/webutils/treeLoader.js"></script>

    <!-- App -->
    <script type="module" src="./app/app.js"></script>
    <!-- <script src="https://greggman.github.io/webgl-lint/webgl-lint.js"></script> -->

</body>

</html>